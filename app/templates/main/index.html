{% extends "main/base.html" %}

{% block content %}

    <!-- Authenticated users -->
    {% if current_user.is_authenticated %}
            
    <h1>Hi, {{ current_user.name }}!</h1>

    <div class="row">
    {% if session.team_id %}
        <div class="col s12 m8 l7">
            <a href="{{ url_for('charts.dashboard') }}">
                <div class="card-panel">
                    <i class="material-icons inline-icon">insert_chart</i>
                    &nbsp;Go to dashboard >
                </div>
            </a>    
        </div>
    {% else %}
        <div class="col s12 m8 l7">
            <a href="{{ url_for('teams.list_teams') }}">
                <div class="card-panel red lighten-4">
                    Please select a team
                </div>
            </a>   
        </div>
    {% endif %}
    </div>

    <!-- Unauthenticated users -->
    {% else %}
    <div class="section">
        <div class="row center">
            <div class="col s12 m10 offset-m1">
                <h1 class="header">FireFlask</h1>
            </div>
            <div class="col s12 m8 offset-m2">
                <h4 class="light">Python Flask apps with Materalize CSS powered by a Firebase backend.</h4>
            </div>
        </div>
        <div class="row center">
            <div class="col s12 m8 offset-m2">
                <a href="{{ url_for('auth.sign_up') }}" class="waves-effect waves-light btn-large">SIGN UP</a>
            </div>
        </div>
    </div>
    <br>
    <div class="divider"></div>
    <br>
    <div class="section">
        <div class="row">
            <div class="col s12 m4">
                <div class="center promo">
                    <i class="large material-icons red-text">build</i>
                    <p class="promo-caption">Python Flask</p>
                    <p class="light center">Write business logic in Python with with lightweight Flask framework. Great for taking scripts out of jupyter notebooks and making them into user-friendly applications.</p>
                </div>
            </div>
    
            <div class="col s12 m4">
                <div class="center promo">
                    <i class="large material-icons red-text">photo_filter</i>
                    <p class="promo-caption">Materalize CSS</p>
                    <p class="light center">Utilize elements and principles of Google's Material Design with a modern CSS framework that incorporates components and animations that provide more feedback to users.</p>
                </div>
            </div>
    
            <div class="col s12 m4">
                <div class="center promo">
                    <i class="large material-icons red-text">storage</i>
                    <p class="promo-caption">Firebase backend</p>
                    <p class="light center">Forget about maintaining databases, writing SQL or worrying about how to scale your infrastructure. Google Firebase's serverless, NoSQL architecture takes care of everything for you.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="divider"></div>
    <br>
    <div class="row center">
        <div class="col s12 m8 offset-m2">
            <div class="commit">
                Check out the project on Github:
                <a href="https://github.com/mjt145/FireFlask/tree/master">mjt145/FireFlask/tree/master</a>
                
            </div>
        </div>
    </div>
    <br>
    <div class="divider"></div>
    <div class="section">
        <h3>Features</h3>
        <br>
        <div class="row">
            <div class="col s2">
                <div><i class="large material-icons blue-text">lock</i></div>
            </div>
            <div class="col s7">
                <strong>Authentication</strong>
                <p>Like any modern web app, users can sign up, sign in, reset password and edit their profile, using Firebase authentication so sensitive passwords aren't stored on your system.</p>
            </div>
        </div>
        <br>
        <div class="row right-align">
            <div class="col s7 offset-s3">
                <strong>Multi-tenancy</strong>
                <p>Users can create teams and invite colleagues to those teams with role-based permissions, as well as authenticating data connectors for the rest of their team to use.</p>
            </div>
            <div class="col s2">
                <div><i class="large material-icons blue-text">people</i></div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col s2">
                <div><i class="large material-icons blue-text">cached</i></div>
            </div>
            <div class="col s7">
                <strong>Data pipelines</strong>
                <p>Connect into marketing platforms like Facebook Ads, save data in the Firestore NoSQL database, process data with Google Cloud Functions and visualize data in a dashboard.</p>
            </div>
        </div>

    </div>
    <div class="section">
        <div id="team" class="section">
            <h3>Meet the Author</h3>
            <p>Who created FireFlask? Oh and by 'create', we mean 'hack together from multiple tutorials'.</p>
            <br>
            <div class="row">
                <div class="col s12 m3 center-on-small-only">
                    <div class="image-container">
                    <img src="{{ url_for('static', filename='img/mike.jpg') }}" class="circle responsive-img">
                </div>
                </div>
                <div class="col s12 m9">
                    <h4>Michael Taylor</h4>
                    <p>Is a marketer who learned to code. Co-founder of Ladder.io and Saxifrage.xyz, 
                        he has 10 years experience in growth marketing and has been coding in evenings 
                        and weekends for the past 5. He created FireFlask to make it easy to take his 
                        scripts out of Jupyter Notebooks and stand them up as web applications, without 
                        having to mess around with SQL, database migrations or scaling infrastructure.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="divider"></div>      
    
    {% endif %}
{% endblock %}